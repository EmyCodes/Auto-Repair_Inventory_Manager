{% extends 'base.html' %} {% block content %}
  
  <!-- Container for Dashboard Content -->
  <div class="container mt-4">
    <h1 class="mb-4">{{ current_user.username }} - Dashboard</h1>
    <div class="row dashboard">
      <!-- Dashboard Metrics -->
      <div class="col-md-3">
        <div class="card">
          <div class="card-body">
            <div class="float-right">
              <a href="{{ url_for('inventory.view_inventories') }}"
                ><i class="bi bi-arrow-up-right"></i
              ></a>
            </div>
            <div class="float-left mr-4 mt-1">
              <i class="bi bi-box2"></i>
            </div>
            <h5 class="card-title" style="font-size:large">Total Products</h5>
            <p class="card-text" style="color:green; font-size:large">{{ total_products }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card">
          <div class="card-body">
            <div class="float-right">
              <a href="{{ url_for('inventory.low_inventory') }}"
                ><i class="bi bi-arrow-up-right"></i
              ></a>
            </div>
            <div class="float-left mr-4 mt-1">
              <i class="bi bi-box2"></i>
            </div>
            <h5 class="card-title" style="color:goldenrod; font-size:large">Low Stock</h5>
            <p class="card-text" style="font-size:large">{{ total_low_stock }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card">
          <div class="card-body">
            <div class="float-right">
              <a href="{{ url_for('inventory.finished_inventory') }}"
                ><i class="bi bi-arrow-up-right"></i
              ></a>
            </div>
            <div class="float-left mr-4 mt-1">
              <i class="bi bi-box2"></i>
            </div>
            <h5 class="card-title" style="color:red; font-size:large">Out of Stock</h5>
            <p class="card-text" style="color:red; font-size:large">{{ total_stock_out }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card">
          <div class="card-body">
            <div class="float-right">
              <a href="{{ url_for('supplier.suppliers') }}"
                ><i class="bi bi-arrow-up-right"></i
              ></a>
            </div>
            <div class="float-left mr-4 mt-1">
              <i class="bi bi-view-list"></i>
            </div>
            <h5 class="card-title" style="color: rgb(124, 9, 47); font-size:large">Suppliers</h5>
            <p class="card-text" style="color: rgb(124, 9, 47); font-size:large">{{ total_suppliers }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-3 mt-4">
        <div class="card">
          <div class="card-body">
            <div class="float-right">
              <a href="{{ url_for('users.mechanics') }}"
                ><i class="bi bi-arrow-up-right"></i
              ></a>
            </div>
            <div class="float-left mr-4 mt-1">
              <i class="bi bi-person-fill-gear"></i>
            </div>
            <h5 class="card-title" style="color:blueviolet; font-size:large">Mechanics</h5>
            <p class="card-text" style="font-size:large">{{ mechanics }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-3 mt-4">
        <div class="card">
          <div class="card-body ml-5">
            <a class="btn btn-primary" style="font-size:medium" href="{{ url_for('inventory.add_inventory') }}"
              >Add Inventory</a
            >
          </div>
        </div>
      </div>
      <div class="col-md-3 mt-4">
        <div class="card">
          <div class="card-body ml-5">
            <a class="btn btn-primary" style="font-size:medium" href="{{ url_for('users.create_mechanic') }}"
              >Add Mechanics</a
            >
          </div>
        </div>
      </div>
      <div class="col-md-3 mt-4">
        <div class="card">
          <div class="card-body ml-5">
            <a class="btn btn-primary" style="font-size:medium" href="{{ url_for('supplier.add_suppliers') }}"
              >Add Suppliers</a
            >
          </div>
        </div>
      </div>
    </div>
    <div class="chart">
      <div class="moving-text"><b>INVENTORY CHART</b></div>
    </div>
    <!-- Chartjs library integration -->
    <div class="container">
      <div class="row mt-4">
        <div class="col-md-6">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Inventory Usage by Category</h5>
              <div>
                <canvas id="myChart" height="130"></canvas>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Supplier Trends</h5>
            <div>
              <div>
                <canvas id="supplyChart" height="130"></canvas>
            </dv>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
  <script src="{{ url_for('static', filename='js/chart.js') }}"></script>
{% endblock content %}
